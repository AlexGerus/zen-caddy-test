<div class="row animated zoomInDown">
  <div class="col-lg-8 offset-lg-2 col-xl-6 offset-xl-3">
    <div class="card bg-transparent my-5">
      <div class="card-header">
        <h1 class="display-4">
          <i class="fas fa-fw fa-sync"></i>
          Reset Password
        </h1>
      </div>
      <div class="card-body">
        
        <form *ngIf="!completed" [formGroup]="passwordForm"  (ngSubmit)="onSubmit()">
          <zen-loading *ngIf="loading"></zen-loading>

          <div class="form-group" [ngClass]="{'has-danger': email.invalid && email.touched}">
            <input formControlName="email" type="email" placeholder="Email" class="form-control"
            (keydown)="emailNotFoundReset()" [ngClass]="{'is-invalid': email.invalid && email.touched}" maxlength="254" required>
            <div class="invalid-feedback" *ngIf="email.errors?.required">Required</div>
            <div class="invalid-feedback" *ngIf="email.errors?.email && !email.errors?.required">Not a valid email</div>
            <div class="invalid-feedback" *ngIf="email.errors?.notFound">This account does not exist</div>
          </div>

          <div class="text-center text-danger mb-3" *ngIf="generalError">
            There was a problem with your request.<br>
            If this continues, please contact us.
          </div>

          <div class="text-center">
            <button type="submit" class="btn btn-info btn-lg btn-block"
            [ngClass]="{'cursor-pointer': passwordForm.valid, 'cursor-not-allowed': !passwordForm.valid}" [disabled]="!passwordForm.valid || loading">
              <i class="fas fa-fw fa-envelope"></i>
              Send
            </button>
          </div>
        </form>
        
        <div *ngIf="completed" class="alert alert-success text-center text-success animated lightSpeedIn">
          <h1 class="display-4">Password Reset Sent</h1>
        </div>

      </div>
    </div>
  </div>
</div>
  